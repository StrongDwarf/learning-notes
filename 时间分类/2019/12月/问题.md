# 问题

我在想,我们在源头把控太弱了。上面发给你的图片,报表和对账功能,两者里的钱都对不上,但是这种功能却上线了。在源头上,虽然说因为我们用户少可以不做灰度测试, 但是,目前我们的情况却是:我们连自己的功能测试都没有。

在该功能测试的时候,我就发现测试时候该功能就有问题,但是告知开发后, 开发却通过各种理由搪塞。而提交给测试人员测试的话,目前的测试情况是: 对于缺陷, 首先我们项目组是不希望测试组给我们提缺陷的(因为涉及考核),另一方面,开发人员也是不希望测试给它提缺陷的。所以,每次只要有缺陷, 我们都是能推的就推。 特别是对于偶发性(即使这个偶发概率特别高)的缺陷, 测试只要一提缺陷,我们就直接说 是因为 环境问题或者部版问题等。测试也就不会给我们提缺陷了。而对于这种缺陷,有职业道德的开发可能会去改正,但是目前在我们项目组,该情况就我所见并不理想。

对于这种问题,我认为我们需要设置一道"内侧"流程。

<span style="color:red">(新增)</span>负责内测的人必须是具有以下几类性质的人:

* 1:对聚合前后端比较熟悉,这样,在他发现缺陷后,该缺陷不会轻易被开发人员搪塞掉而导致缺陷在还没被修复就被撤销。
* 2:能够积极的去发现系统中的问题,并且提出该问题。发现问题,提出问题都需要很大的勇气,毕竟,提出问题还是容易得罪人的。

<span style="color:red">(新增)</span>关于内测:目前的测试管理平台上就有一个功能模块-内测。使用内测可以很好的跟进问题。

<span style="color:red">(删除)</span>"内测"的具体如何实施,  稍后再说,  这里在说一个最近发现的一个现象。

最近,我和gengdi在做 超额退款相关的功能时:  该功能的前端部分开发,我是在12月版(快1个月前了..)的开发就开发完成的。当时和gengdi是约定好了按照敬钦的概要设计中的相关的接口文档进行开发。当时gengdi也是马上答应了,但是到了联调的时候却发现, gengdi又按照自己的想法写了套接口,虽然功能都是一样的,但是一些字段却是不同的。  此时 通过和gengdi交谈的过程中,发现了gengdi忘记了和我约定好了要按照敬钦的接口文档进行开发,  然后和它交谈后发现, gengdi完全不知道有概述这一道流程, 而且在之后,我又和业治去交流, 发现业治也是到了12月才知道有概设和接口文档这个东西。 而且, 即使他们知道有接口文档, 也几乎是不按敬钦给的接口文档开发。(如何证明不是按照敬钦的接口文档进行开发的? 因为它们更新接口字段后敬钦并不知晓)

上面的例子不是说###做的不好, (雪崩时,没有一片雪花是无辜的,如果有做的不好的,那就是我们整个团队做的不好)。而是说: 整个团队普遍规范意识都不强, 就算有接口文档,也是各开发各的, 而为什么大家都不按照接口文档来开发呢?或者说,为什么代码里更改了接口也不更新接口文档呢?

<span style="color:red">(以下都是新增)</span>

这是因为:目前在我们项目组中接口文档并没有起到它的"契约作用"。实际中的接口文档应该起到什么作用? 前端和后端根据需求确定相关的接口文档,然后各自根据接口文档中的约定进行开发。依此,在开发完成之后,提交测试时, 如果发现问题, 对于前后端的责任区分则是: **如果没有根据接口文档提交正确的值,那么就是前端的问题, 如果没有根据接口文档返回正确的值,那么就是后端的问题。** 在其中,联调过程只保证接口能够调通。

而在我们项目组中,大部分开发的理解是什么?联调是让功能能够"OK",以此导致: 1:有些后端不做接口测试就过来和前端联调(这种只求通过的联调隐患有多大?碰到一个异常节点接口就直接挂了...), 2:有些后端认为发现后端接口返回的值不正确 是联调过程中的责任(前端真没责任帮后端发现问题,当然,目前我们前端开发也没意识到自己的责任仅仅只有提交正确的值,但是依此导致的是职责不清,工作混乱)。

对于接口的问题,主要的处理措施有以下几点:

* 1:由开发人员约定接口文档(为什么要让敬钦设计接口文档?一直没理解,一方面,敬钦肯定没有实际去做那单需求的开发人员更清楚这个需求需要新增什么接口,接口中要传什么字段。另一方面,设计应该做一些对系统更有帮助的事情,比如,对于复杂需求的具体逻辑,写的更清楚一些。或者直接让他去优化代码。再一方面,目前所见,几乎没人按照敬钦的接口文档进行开发)
* 2:在项目组中明确宣传接口文档的"契约"意义,并且将接口文档作为内测依据。**如果没有根据接口文档提交正确的值,那么就是前端的问题, 如果没有根据接口文档返回正确的值,那么就是后端的问题。**

###### 明确接口文档最重大的意义并不是追责,而是解耦合,目前我们项目组的前端开发和后端开发几乎耦合在一起, 导致开发效率极低,使用接口文档解耦合,大家各干各的,各自只要保证自己的那一块不出问题就可以了。

###### 上次会议时说到接口文档的问题时,gengdi提出像APP之类的目前后端测试是很困难的。对于这种情况,最迟在三月版,我会开发相对应的APP后端接口测试工具。

我的建议到此完毕,主要还是**推广内测-让缺陷在到达测试组和用户之前被提出**和**推广接口文档-解前端开发和后端开发的耦合,大家各干各的**。