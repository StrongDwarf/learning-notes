# APP用户体验升级实践

###### @author zhuzecong
###### @createTime 2019/11/16
###### @notes 这篇文章可能会比较长,哈哈,因为给一个APP的用户体验升级涉及到的东西太多了
###### @notes 相比成为顶级程序员,成为顶级产品经理更吸引我

自从来到项目组后,经常就听到产品经理说"又被业务叼了","业务说我们的APP太丑","业务说我们的APP不好用"。每一次从产品经理口中听到这样的话,我心里都很不是滋味,一方面,作为项目组中的一员,叼产品经理不就是叼我们项目组么,不就是叼我么。另一方面,作为一个程序员,产品就像儿子,儿子好看优秀才是每个父亲最希望看到的事情,有人说儿子烂,当父亲的感觉可想而知。

最近一月,在项目组开发任务终于缓了一些后,终于有时间去进行优化了。

###### 特别说明:因为担心

以下是一些优化过程中的实践,有兴趣的可以了解下。

## 目录

* [1,先让APP好看起来-样式优化](#1,先让APP好看起来-APP样式优化)
  * [1.1,选择一个主题色](#1.1,选择一个主题色)
  * [1.2,简约,即是美](#1.2,简约,即是美)
  * [1.3,把用户注意力交给需要注意力的元素](#1.3,把用户注意力交给需要注意力的元素)
  * [1.4,背景色,元素色,线条,阴影之间的故事](#1.4,背景色,元素色,线条,阴影之间的故事)
* [2,再让APP好用起来-交互优化](#2,再让APP好用起来-交互优化)
  * [2.1,交互只能做减法](#2.1,交互只能做减法)
  * [2.2,面向产品经理的错误提示设计]
    * [2.2.1,页面级错误提示设计](#2.2.1,页面级错误提示设计)
    * [2.2.2,接口级错误提示设计](#2.2.2,接口级错误提示设计)
  * [2.3,后端编程让异常无处可跑的小技巧](#2.3,后端编程让异常无处可跑的小技巧)
    * [2.3.1,try...catch...统筹全局](#2.3.1,try...catch...统筹全局)
    * [2.3.2,终点之外只有异常](#2.3.2,终点之外只有异常)
* [3,再让APP快起来-性能优化](#3,再让APP快起来-性能优化)
  * [3.1,"看起来很快"比"实际很快"更重要](#3.1,"看起来很快"比"实际很快"更重要)
  * [3.2,延迟渲染](#3.2,延迟渲染)
  * [3.3,请求缓存](#3.3,请求缓存)
  * [3.4,sql优化](#3.4,sql优化)
    * [3.4.1,使用索引](#3.4.1,使用索引)
    * [3.4.2,避免在where字句中使用or来连接条件](#3.4.2,避免在where字句中使用or来连接条件)
    * [3.4.3,能用between就不要用in](#3.4.3,能用between就不要用in)
    * [3.4.4,避免在where子句中对字段进行表达式操作](#3.4.4,避免在where子句中对字段进行表达式操作)
    * [3.4.5,少用like%xxx%](#3.4.5,少用like%xxx%)
  * [3.5,微服务合并](#3.5,微服务合并)
* [4,最后让APP自我迭代](#4,最后让APP自我迭代)
  * [4.1,监控url请求数量](#4.1,监控url请求数量)
  * [4.2,监控控件和页面使用率](#4.2,监控控件和页面使用率)
  * [4.3,向用户接收反馈](#4.3,向用户接收反馈)
* [5,总结](#5,总结)

## 1,先让APP好看起来-样式优化

关于样式,在优化APP之前,和需求聊了一下,需求表示业务对我们APP样式的评价是:"就是觉得丑,具体哪里丑我也说不上来"。

"美"与"丑","好看"与"不好看"。往往就是这样,我就是觉得你丑,但是你要问我觉得你哪里丑,那我还真说不上来。

怎样的是美?怎样的是丑?我认为借用python之禅里的几句话可以很好的解释。

* 优美胜于丑陋（美的APP以"优美"为目标）
* 明了胜于晦涩（优美的APP应是功能明了的）
* 简洁胜于复杂（优美的APP应是简洁的）
* 复杂胜于凌乱（如果复杂不可避免，那功能间也不能有难懂的关系，要保持功能分类合理）
* 扁平胜于嵌套（优美的APP应当是扁平的）
* 间隔胜于紧凑（优美的APP元素与元素之间应该有适当的间隔）
* 可读性很重要（优美的APP是可读的）

### 1.1,选择一个主题色

移动互联网发展到今天,APP之间的竞争也早已从功能层次的厮杀升级到了"特色"的厮杀,APP的主题色即是APP样式层面的"特色",APP的主题色应与APP的业务场景形成清晰的对应关系,如下是一些常用APP的主题色:

淘宝主题色:给人的感觉如阳光微撒,活力无限,像是初夏走在阳光下的购物街上(淘宝消费)。

<img alt="主题色-淘宝图片" src="https://github.com/StrongDwarf/learning-notes/blob/master/public/img/APP用户体验升级/主题色-淘宝.jpg?raw=true" width="400"/>

支付宝主题色:沉着冷静，成熟稳重。

<img alt="主题色-支付宝图片" src="https://github.com/StrongDwarf/learning-notes/blob/master/public/img/APP用户体验升级/主题色-支付宝.jpg?raw=true" width="400"/>

QQ主题色:白色作为底调，淡蓝色作为主题色，给人的印象是还是学生时候的纯白年代，以及那些清淡，青涩的感情。

<img alt="主题色-QQ图片" src="https://github.com/StrongDwarf/learning-notes/blob/master/public/img/APP用户体验升级/主题色-QQ.png?raw=true" width="400"/>

我的APP的主题色:

<img alt="主题色-我的APP图片" src="https://github.com/StrongDwarf/learning-notes/blob/master/public/img/APP用户体验升级/主题色-我的APP.jpg?raw=true" width="400"/>

### 1.2,简约,即是美

