# 异常,断言和日志

若程序在运行时间如果发生错误,必需做到以下几点:

* 向用户报告错误
* 保存所有的工作结果
* 允许用户以妥善的形式退出程序

## 1 处理错误

### 1.1 异常分类

所有的异常都是由Throwable继承而来,但在下一层立即分解为两个分支:Error和Exception

Error类层次结构描述了java运行时系统的内部错误和资源耗尽错误。引用程序不应该抛出这种类型的对象。如果出现了这样的内部错误,除了通告给用户,并尽力使程序安全地终止之外,再也无能为力了。

Exception又分为两个分支:RuntimeException和IOException

派生于RuntimeException的异常包含下面几种情况:

* 错误的类型转换
* 数组访问越界
* 访问null指针

不是派生于RuntimeException的异常包括

* 试图在文件尾部后面读取数据
* 试图打开一个不存在的文件
* 试图根据给定的字符串查找Class对象,